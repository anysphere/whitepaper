\section{Security Context}
\label{sec:securitycontext}

\begin{figure}
    \centering
        \includegraphics[width=\textwidth]{metadata-privacy.pdf}
\caption{The view of a powerful adversary in three different threat models. With end-to-end encryption, the adversary can still see the metadata.}
\label{fig:metadataprivacy}
\end{figure}



In this section, we describe what our system achieves beyond end-to-end encrypted messaging applications like Signal and Wickr.

Signal is great. It is end-to-end encrypted, open source, and run by a trustworthy group. Unfortunately, if their servers are hacked, one of their employees bribed, or you are attacked by a network-level powerful actor, there is nothing Signal can guarantee. \xxx[stzh]{I do not think so. The point of E2E encryption is to guarantee content security when the server gets compromised.}

Furthermore, even with a secure server, it leaks metadata.  Using timing attacks, an adversary can figure out when, where and with whom you are talking. 

\subsection{Desired Properties}

1. \textbf{Metadata Protection}: All contents and metadata of a conversation are only visible to the users involved in the conversation. Even with all servers compromised, an adversary should not be able to find out whether two users are engaging in conversation.

An especially challenging case is metadata protection during trust establishment. This happens when two users wish to add each other as friends for the first time. This feature is not supported even by Addra or Pung. We outline our solution in \cref{sec:trustestablishment}, which offers users a variety of options to establishing trust.

2. \textbf{Resistance to MITM attacks}: We use PIR and end-to-end encryption to ensure no man-in-the-middle(MITM) can access metadata associated with any conversation of the user.

3. \textbf{Resistance to DoS attacks}: Denial of Service(DoS) attacks are unavoidable if the adversary controls all our servers. In the case of a server-controlling adversary, we do not guarantee liveliness of our service, but continue to guarantee metadata security. We also defend against DoS attacks launched by an end-user with no access to the servers.

4. \textbf{Reasonable Load on Client and Server}: Since PIR is expensive, we design our system to minimize load on the client and server without compromising security. We use the most efficient PIR algorithms known on the server. We also give users the option to adjust client side load to suit their upload and download bandwidth.

\input{threatmodel}